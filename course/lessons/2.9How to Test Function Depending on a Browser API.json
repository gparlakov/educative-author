{"components":[{"type":"MarkdownEditor","content":{"version":"2.0","text":"While working on browser applications, we often need to use APIs the browser provides, like `document.createElement`. How to go about testing such functions? Let's use a function that draws a square as an example.\n\n## The function\n\nHere's the breakdown of `src/draw-square.mjs` as seen in the code playground below:\n\n- ```js\n  export function drawSquare(element, width) {\n  ```\n\n  The line `export`-s the function for other modules to `import` and use. The function expects `element` and `width` parameters.\n\n- ```js\n  const canvas = document.createElement('canvas');\n  ```\n\n  The line creates a [canvas HTML element](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API) `<canvas></canvas>` using the browser API.\n\n  Note: it's not attached to the [DOM](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction) yet.\n\n- ```js\n  element.appendChild(canvas);\n  ```\n\n  The line attaches the canvas element to the DOM by appending it to the `element` passed as the function parameter.\n\n- ```js\n  const context = canvas.getContext('2d');\n  ```\n\n  The line calls the `getContext` method of the canvas, which returns the `context` object, which, in turn, allows drawing shapes and lines in the canvas.\n\n- ```js\n  context.rect(0, 0, width, width);\n  ```\n\n  The line uses `rect` to draw a rectangle in the top-right corner of the canvas (0,0) using `width` as its width and height.\n\n## Run it\n\nLet's run the code below, look at the results and break down the test.","mdHtml":"<p>While working on browser applications, we often need to use APIs the browser provides, like <code>document.createElement</code>. How to go about testing such functions? Let’s use a function that draws a square as an example.</p>\n<h2>The function</h2>\n<p>Here’s the breakdown of <code>src/draw-square.mjs</code> as seen in the code playground below:</p>\n<ul>\n<li>\n<pre><code class=\"language-js\">export function drawSquare(element, width) {\n</code></pre>\n<p>The line <code>export</code>-s the function for other modules to <code>import</code> and use. The function expects <code>element</code> and <code>width</code> parameters.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const canvas = document.createElement('canvas');\n</code></pre>\n<p>The line creates a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API\">canvas HTML element</a> <code>&lt;canvas&gt;&lt;/canvas&gt;</code> using the browser API.</p>\n<p>Note: it’s not attached to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\">DOM</a> yet.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">element.appendChild(canvas);\n</code></pre>\n<p>The line attaches the canvas element to the DOM by appending it to the <code>element</code> passed as the function parameter.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const context = canvas.getContext('2d');\n</code></pre>\n<p>The line calls the <code>getContext</code> method of the canvas, which returns the <code>context</code> object, which, in turn, allows drawing shapes and lines in the canvas.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">context.rect(0, 0, width, width);\n</code></pre>\n<p>The line uses <code>rect</code> to draw a rectangle in the top-right corner of the canvas (0,0) using <code>width</code> as its width and height.</p>\n</li>\n</ul>\n<h2>Run it</h2>\n<p>Let’s run the code below, look at the results and break down the test.</p>\n","cursorPosition":{"line":0,"ch":0},"comp_id":"NzVBBbRl8yIhav8fgOy7z"},"iteration":3,"hash":1,"saveVersion":17},{"type":"WebpackBin","mode":"edit","content":{"version":5,"theme":"default","showLineNumbers":true,"showConsole":false,"hideResultOutput":true,"hideOutputUrl":true,"hideCodeView":false,"loaders":{"babel":{"title":"React","config":{"es2015":true,"react":true},"enabled":true},"dart":{"title":"Dart","config":{"dart":true},"enabled":false},"ts-react":{"title":"Typescript React","config":{"ts-react":true},"enabled":false},"elm":{"title":"Elm","config":{"elm":true},"enabled":false},"vue":{"title":"Vue.js","config":{"vue":true},"enabled":false},"gojs-react":{"title":"GoJS React","config":{"gojs-react":true},"enabled":false}},"npmPackages":{"react":"15.6.1","react-dom":"15.6.1"},"outputHeight":300,"selectedApiKeys":{},"selectedEnvVars":{},"outputLayout":"desktop","codeContents":{"module":"/","id":0,"selectedId":7363857089456,"maxId":5517958883835,"children":[{"id":1899044884658,"module":"spec","leaf":false,"collapsed":true,"children":[{"id":6474153965446,"module":"support","leaf":false,"collapsed":true,"children":[{"id":8777484293334,"module":"jasmine-browser.js","leaf":true,"data":{"content":"const specReporter = require('jasmine-spec-reporter').SpecReporter\n\nmodule.exports = {\n  srcDir: \"src\",\n  srcFiles: [\n    \"**/*.?(m)js\"\n  ],\n  specDir: \"spec\",\n  specFiles: [\n    \"**/*[sS]pec.?(m)js\"\n  ],\n  helpers: [\n    \"helpers/**/*.?(m)js\"\n  ],\n  random: true,\n  stopSpecOnExpectationFailure: false,\n  browser: {\n    name: \"headlessChrome\"\n  },\n  reporters: [new specReporter()]\n}\n","language":"jsx","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":6474153965446}],"parentId":1899044884658},{"id":8536655453517,"module":"draw-square.spec.mjs","leaf":true,"data":{"content":"import { drawSquare } from '/__src__/draw-square.mjs';\n\ndescribe('drawSquare', () => {\n  it('should create canvas, append it in the element, get a 2d context and draw the square', () => {\n    const contextMock = { rect: jasmine.createSpy('rect') };\n    const canvasMock = { getContext: jasmine.createSpy('canvasMock') };\n    canvasMock.getContext.and.returnValue(contextMock);\n    const documentSpy = spyOn(document, 'createElement').and.returnValue(canvasMock);\n    const element = { appendChild: jasmine.createSpy('appendChild') };\n\n    drawSquare(element, 10);\n\n    expect(documentSpy).toHaveBeenCalledTimes(1);\n    expect(element.appendChild).toHaveBeenCalledOnceWith(canvasMock);\n    expect(canvasMock.getContext).toHaveBeenCalledOnceWith('2d');\n    expect(contextMock.rect).toHaveBeenCalledOnceWith(0, 0, 10, 10);\n  });\n});\n","language":"javascript","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":1899044884658}],"parentId":0},{"id":5517958883835,"module":"src","leaf":false,"collapsed":true,"children":[{"id":7363857089456,"module":"draw-square.mjs","leaf":true,"data":{"content":"/**\n * Draw a square within the element with a given width\n * @param {HTMLElement} element\n * @param width number\n */\nexport function drawSquare(element, width) {\n  const canvas = document.createElement('canvas');\n  element.appendChild(canvas);\n  const context = canvas.getContext('2d');\n  context.rect(0, 0, width, width);\n}\n","language":"javascript","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":5517958883835}],"parentId":0}],"importedGithubPath":"https://github.com/gparlakov/jasmine-educative/tree/main/2.8.browser-api","judge":{"judgeActive":false}},"dockerJob":{"key":"MAg0aPm2NgdrpUzSEzwM0","name":"Run jasmine-browser-runner console","inputFileName":"index.js","runScript":"cp -r /usercode/** .","ports":"3000","startScript":"cd /usr/local/educative/unit-testing-course && \nnpx nodemon -w /usercode --exec \"cp -r /usercode/** . && npx jasmine-browser-runner runSpecs\"","jobType":"Live","forceRelaunchOnRun":false,"forceRelaunchOnCompChange":true,"runInLiveContainer":true},"comp_id":"n3gV07sPjCAHTv-BWqOHO","caption":"Function drawSquare and it's test draw-square.spec.mjs"},"iteration":2,"hash":2,"saveVersion":12},{"type":"MarkdownEditor","mode":"edit","content":{"version":"2.0","text":"## Breakdown\n\nThis spec is a bit more involved than what we're used to in the course so far. It resembles а real-world function's test. Let's look at it line-by-line:\n\n- ```js\n  import { drawSquare } from '/__src__/draw-square.mjs';\n  ```\n\n  The line `import`-ing the `drawSquare` function from its module to use in the current module. The spec file is a module too - `.mjs`.\n\n- ```js\n  describe('drawSquare', () => {\n    it('should create canvas, append it in the element, get a 2d context and draw the square', () => {\n  ```\n\n  This code uses `describe` to start a suite and `it` to start a test.\n\n- ```js\n  const contextMock = { rect: jasmine.createSpy('rect') };\n  ```\n\n  This line creates a `contextMock` that is an object with the method `rect`. It simulates the canvas's context method we use in the function - `context.rect(...)`.\n\n- ```js\n  const canvasMock = { getContext: jasmine.createSpy('canvasMock') };\n  ```\n\n  This line creates a `canvasMock`. This is an object that exposes a `getContext` method. It simulates the canvas element's method we use in the function - `canvas.getContext`.\n\n- ```js\n  canvasMock.getContext.and.returnValue(contextMock);\n  ```\n\n  This line instructs the `getContext` method to return the `contextMock` when called at line 9 of the `src/draw-square.mjs` file. We need that so that the context we use while testing the function is the one we prepared and can spy on its method calls\n\n- ```js\n  const documentSpy = spyOn(document, 'createElement').and.returnValue(canvasMock);\n  ```\n\n  This line applies a spy on the global `document` object. That spy will listen on the calls to the `createElement` method and will intercept them. The part `.and.returnValue` tells the spy what to return for any call to that method. In this case - return the prepared `canvasMock`.\n\n- ```js\n  const element = { appendChild: jasmine.createSpy('appendChild') };\n  ```\n\n  we prepare the input for the function-under-test and set up a mock object that has an `appendChild` method. It will be used at line 8 of `drawSquare`\n  > At this point we've set up the test's environment and input to be controlled by us - all the methods used by the function-under-test: `document.createElement`, `canvas.getContext`, `context.rect`, and `element.appendChild` are now spied or mocked functions that\n  >\n  > - we can query for calls\n  > - we can mock their results\n\n- ```js\n  drawSquare(element, 10);\n  ```\n\n  This calls the function to enact its effects and get ready to make the assertions.\n\n- ```js\n  expect(documentSpy).toHaveBeenCalledTimes(1);\n  ```\n\n  This asserts that the `document.createElement` spy has been called (`documentSpy`) exactly one time.\n\n- ```js\n  expect(element.appendChild).toHaveBeenCalledOnceWith(canvasMock);\n  ```\n\n  This asserts that the `appendChild` method from the input parameter `element` was called and the `canvasMock` was passed in as the parameter. This line asserts that the `canvas` is attached to the `element` as is the function's logic.\n\n- ```js\n  expect(canvasMock.getContext).toHaveBeenCalledOnceWith('2d');\n  ```\n\n  This line asserts that the `getContext` method of the `context` was called as is the logic of the function.\n\n- ```js\n  expect(contextMock.rect).toHaveBeenCalledOnceWith(0, 0, 10, 10);\n  ```\n\n  This asserts that the `rect` was called using the specific set of parameters `0,0` for the top left and `10,10` for the width and height of the rectangle - making it a square with a side of 10px.\n\n## Spies and mocks\n\n> A word about the spy and mock terms we use:\n>\n> - Spy is applied on an existing function or object's method `spyOn(document,`createElement')`.\n> - Mock is an object of a function that we create from scratch and set up a spy on its method.\n\n## Logic is captured\n\nNow, this test has captured the logic of the function so tightly that any change to the function will inevitably break the test and let us know immediately.\n\nAnd in the end that is a major part of what the test is supposed to do. Make sure that what we've created stays as is.\n\n## Exercise\n\nLooking at the code playground below there is an `src/draw-circle.mjs` file with a function that is very similar to the `drawSquare`. The only difference is that it calls `context.arc()` with:\n\n- the center of the circle (x,y - both being the `radius` so that the circle can be centered in the canvas)\n- the radius is the third parameter and again `radius` is passed in\n- the 0 and 360 are the beginning and end angles of the arc being drawn which is a full circle\n\nGo ahead and write a test for that in the `spec/draw-circle.mjs` file.\n\n> Hint: a large portion of the test we broke down above can be used.\n\nKeep in mind that we are using a different function from the `context` - the `arc` so the `context` mock should change as well as the assertion! See below the playground for more hints.\n","mdHtml":"<h2>Breakdown</h2>\n<p>This spec is a bit more involved than what we’re used to in the course so far. It resembles а real-world function’s test. Let’s look at it line-by-line:</p>\n<ul>\n<li>\n<pre><code class=\"language-js\">import { drawSquare } from '/__src__/draw-square.mjs';\n</code></pre>\n<p>The line <code>import</code>-ing the <code>drawSquare</code> function from its module to use in the current module. The spec file is a module too - <code>.mjs</code>.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">describe('drawSquare', () =&gt; {\n  it('should create canvas, append it in the element, get a 2d context and draw the square', () =&gt; {\n</code></pre>\n<p>This code uses <code>describe</code> to start a suite and <code>it</code> to start a test.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const contextMock = { rect: jasmine.createSpy('rect') };\n</code></pre>\n<p>This line creates a <code>contextMock</code> that is an object with the method <code>rect</code>. It simulates the canvas’s context method we use in the function - <code>context.rect(...)</code>.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const canvasMock = { getContext: jasmine.createSpy('canvasMock') };\n</code></pre>\n<p>This line creates a <code>canvasMock</code>. This is an object that exposes a <code>getContext</code> method. It simulates the canvas element’s method we use in the function - <code>canvas.getContext</code>.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">canvasMock.getContext.and.returnValue(contextMock);\n</code></pre>\n<p>This line instructs the <code>getContext</code> method to return the <code>contextMock</code> when called at line 9 of the <code>src/draw-square.mjs</code> file. We need that so that the context we use while testing the function is the one we prepared and can spy on its method calls</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const documentSpy = spyOn(document, 'createElement').and.returnValue(canvasMock);\n</code></pre>\n<p>This line applies a spy on the global <code>document</code> object. That spy will listen on the calls to the <code>createElement</code> method and will intercept them. The part <code>.and.returnValue</code> tells the spy what to return for any call to that method. In this case - return the prepared <code>canvasMock</code>.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">const element = { appendChild: jasmine.createSpy('appendChild') };\n</code></pre>\n<p>we prepare the input for the function-under-test and set up a mock object that has an <code>appendChild</code> method. It will be used at line 8 of <code>drawSquare</code></p>\n<blockquote>\n<p>At this point we’ve set up the test’s environment and input to be controlled by us - all the methods used by the function-under-test: <code>document.createElement</code>, <code>canvas.getContext</code>, <code>context.rect</code>, and <code>element.appendChild</code> are now spied or mocked functions that</p>\n<ul>\n<li>we can query for calls</li>\n<li>we can mock their results</li>\n</ul>\n</blockquote>\n</li>\n<li>\n<pre><code class=\"language-js\">drawSquare(element, 10);\n</code></pre>\n<p>This calls the function to enact its effects and get ready to make the assertions.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">expect(documentSpy).toHaveBeenCalledTimes(1);\n</code></pre>\n<p>This asserts that the <code>document.createElement</code> spy has been called (<code>documentSpy</code>) exactly one time.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">expect(element.appendChild).toHaveBeenCalledOnceWith(canvasMock);\n</code></pre>\n<p>This asserts that the <code>appendChild</code> method from the input parameter <code>element</code> was called and the <code>canvasMock</code> was passed in as the parameter. This line asserts that the <code>canvas</code> is attached to the <code>element</code> as is the function’s logic.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">expect(canvasMock.getContext).toHaveBeenCalledOnceWith('2d');\n</code></pre>\n<p>This line asserts that the <code>getContext</code> method of the <code>context</code> was called as is the logic of the function.</p>\n</li>\n<li>\n<pre><code class=\"language-js\">expect(contextMock.rect).toHaveBeenCalledOnceWith(0, 0, 10, 10);\n</code></pre>\n<p>This asserts that the <code>rect</code> was called using the specific set of parameters <code>0,0</code> for the top left and <code>10,10</code> for the width and height of the rectangle - making it a square with a side of 10px.</p>\n</li>\n</ul>\n<h2>Spies and mocks</h2>\n<blockquote>\n<p>A word about the spy and mock terms we use:</p>\n<ul>\n<li>Spy is applied on an existing function or object’s method <code>spyOn(document,</code>createElement’)`.</li>\n<li>Mock is an object of a function that we create from scratch and set up a spy on its method.</li>\n</ul>\n</blockquote>\n<h2>Logic is captured</h2>\n<p>Now, this test has captured the logic of the function so tightly that any change to the function will inevitably break the test and let us know immediately.</p>\n<p>And in the end that is a major part of what the test is supposed to do. Make sure that what we’ve created stays as is.</p>\n<h2>Exercise</h2>\n<p>Looking at the code playground below there is an <code>src/draw-circle.mjs</code> file with a function that is very similar to the <code>drawSquare</code>. The only difference is that it calls <code>context.arc()</code> with:</p>\n<ul>\n<li>the center of the circle (x,y - both being the <code>radius</code> so that the circle can be centered in the canvas)</li>\n<li>the radius is the third parameter and again <code>radius</code> is passed in</li>\n<li>the 0 and 360 are the beginning and end angles of the arc being drawn which is a full circle</li>\n</ul>\n<p>Go ahead and write a test for that in the <code>spec/draw-circle.mjs</code> file.</p>\n<blockquote>\n<p>Hint: a large portion of the test we broke down above can be used.</p>\n</blockquote>\n<p>Keep in mind that we are using a different function from the <code>context</code> - the <code>arc</code> so the <code>context</code> mock should change as well as the assertion! See below the playground for more hints.</p>\n","cursorPosition":{"line":0,"ch":0},"comp_id":"7coXSAhIu7iWB30ATN9Oc"},"iteration":3,"hash":3,"saveVersion":13},{"type":"WebpackBin","mode":"edit","content":{"version":5,"theme":"default","showLineNumbers":true,"showConsole":false,"hideResultOutput":true,"hideOutputUrl":true,"hideCodeView":false,"loaders":{"babel":{"title":"React","config":{"es2015":true,"react":true},"enabled":true},"dart":{"title":"Dart","config":{"dart":true},"enabled":false},"ts-react":{"title":"Typescript React","config":{"ts-react":true},"enabled":false},"elm":{"title":"Elm","config":{"elm":true},"enabled":false},"vue":{"title":"Vue.js","config":{"vue":true},"enabled":false},"gojs-react":{"title":"GoJS React","config":{"gojs-react":true},"enabled":false}},"npmPackages":{"react":"15.6.1","react-dom":"15.6.1"},"outputHeight":300,"selectedApiKeys":{},"selectedEnvVars":{},"outputLayout":"desktop","codeContents":{"module":"/","id":0,"selectedId":2113462400082,"maxId":214446839894,"children":[{"id":2473684879887,"module":"spec","leaf":false,"collapsed":true,"children":[{"id":3113567886962,"module":"support","leaf":false,"collapsed":true,"children":[{"id":7337105277267,"module":"jasmine-browser.js","leaf":true,"data":{"content":"const specReporter = require('jasmine-spec-reporter').SpecReporter\n\nmodule.exports = {\n  srcDir: \"src\",\n  srcFiles: [\n    \"**/*.?(m)js\"\n  ],\n  specDir: \"spec\",\n  specFiles: [\n    \"**/*[sS]pec.?(m)js\"\n  ],\n  helpers: [\n    \"helpers/**/*.?(m)js\"\n  ],\n  random: true,\n  stopSpecOnExpectationFailure: false,\n  browser: {\n    name: \"headlessChrome\"\n  },\n  reporters: [new specReporter()]\n}\n","language":"jsx","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":3113567886962}],"parentId":2473684879887},{"id":2113462400082,"module":"draw-circle.spec.mjs","leaf":true,"data":{"content":"import { drawCircle } from '/__src__/draw-circle.mjs';\n\ndescribe('drawCircle', () => {\n  it('should create canvas, append it in the element, get a 2d context and draw the circle', () => {\n    pending('test draw circle'); // replace this line with logic\n  });\n});\n","language":"javascript","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":2473684879887}],"parentId":0},{"id":214446839894,"module":"src","leaf":false,"collapsed":true,"children":[{"id":9689093252424,"module":"draw-circle.mjs","leaf":true,"data":{"content":"/**\n * Draw a circle within the element with a given radius\n * @param {HTMLElement} element\n * @param radius number\n */\nexport function drawCircle(element, radius) {\n  const canvas = document.createElement('canvas');\n  element.appendChild(canvas);\n  const context = canvas.getContext('2d');\n  context.arc(radius, radius, radius, 0, 360);\n}\n","language":"javascript","staticFile":false,"hidden":false,"highlightedLines":""},"parentId":214446839894}],"parentId":0}],"importedGithubPath":"https://github.com/gparlakov/jasmine-educative/tree/main/2.8.browser-api-exercise","judge":{"judgeActive":false}},"dockerJob":{"key":"MAg0aPm2NgdrpUzSEzwM0","name":"Run jasmine-browser-runner console","inputFileName":"index.js","runScript":"cp -r /usercode/** .","ports":"3000","startScript":"cd /usr/local/educative/unit-testing-course && \nnpx nodemon -w /usercode --exec \"cp -r /usercode/** . && npx jasmine-browser-runner runSpecs\"","jobType":"Live","forceRelaunchOnRun":false,"forceRelaunchOnCompChange":true,"runInLiveContainer":true},"comp_id":"Z3tZVs9k_Q664--gEfLcJ","caption":"Exercise on browser API unit testing - draw a circle test"},"iteration":2,"hash":4,"saveVersion":15},{"type":"SpoilerEditor","mode":"edit","content":{"version":"3.0","text":"```js\nit('should create canvas, append it in the element, get a 2d context and draw the circle', () => {\n    const contextMock = { arc: jasmine.createSpy('arc') };\n    const canvasMock = { getContext: jasmine.createSpy('canvasMock') };\n    canvasMock.getContext.and.returnValue(contextMock);\n    const documentSpy = spyOn(document, 'createElement').and.returnValue(canvasMock);\n    const element = { appendChild: jasmine.createSpy('appendChild') };\n\n    drawCircle(element, 10);\n\n    expect(documentSpy).toHaveBeenCalledTimes(1);\n    expect(element.appendChild).toHaveBeenCalledOnceWith(canvasMock);\n    expect(canvasMock.getContext).toHaveBeenCalledOnceWith('2d');\n    expect(contextMock.arc).toHaveBeenCalledOnceWith(10, 10, 10, 0, 360);\n  });\n```","mdHtml":"<pre><code class=\"language-js\">it('should create canvas, append it in the element, get a 2d context and draw the circle', () =&gt; {\n    const contextMock = { arc: jasmine.createSpy('arc') };\n    const canvasMock = { getContext: jasmine.createSpy('canvasMock') };\n    canvasMock.getContext.and.returnValue(contextMock);\n    const documentSpy = spyOn(document, 'createElement').and.returnValue(canvasMock);\n    const element = { appendChild: jasmine.createSpy('appendChild') };\n\n    drawCircle(element, 10);\n\n    expect(documentSpy).toHaveBeenCalledTimes(1);\n    expect(element.appendChild).toHaveBeenCalledOnceWith(canvasMock);\n    expect(canvasMock.getContext).toHaveBeenCalledOnceWith('2d');\n    expect(contextMock.arc).toHaveBeenCalledOnceWith(10, 10, 10, 0, 360);\n  });\n</code></pre>\n","showHintText":"Show Hint","hideHintText":"Hide Hint","showIcon":true,"comp_id":"AAJOWt1oOTupPpudUSVNp"},"iteration":7,"hash":5,"saveVersion":2}],"summary":{"description":"- browser apps often need browser APIs\n- here's how to test such functions \n- using spies and mocks to capture the environment and input\n- what's the difference between a spy and a mock","tags":["browser","canvas","unit test"],"titleUpdated":true}}